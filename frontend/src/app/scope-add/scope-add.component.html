<h2>{{ isEdit ? 'Edit Scope' : 'Add Scope' }}</h2>

<form [formGroup]="scopeForm" (ngSubmit)="onSubmit()">
  <div class="mb-3">
    <label for="title" class="form-label">Title</label>
    <input type="text" class="form-control" id="title" formControlName="title" />
    <div *ngIf="submitted && f.title.invalid" class="text-danger">
      Title is required (max 255 chars).
    </div>
  </div>

  <div class="mb-3">
    <label for="targetUrl" class="form-label">Target URL</label>
    <input type="text" class="form-control" id="targetUrl" formControlName="targetUrl" />
    <div *ngIf="submitted && f.targetUrl.invalid" class="text-danger">
      Target URL is required (max 2048 chars).
    </div>
  </div>

  <div class="mb-3">
    <label for="description" class="form-label">Description</label>
    <textarea class="form-control" id="description" formControlName="description"></textarea>
  </div>

  <div class="mb-3">
    <label for="inScopeRules" class="form-label">In-Scope Rules</label>
    <textarea class="form-control" id="inScopeRules" formControlName="inScopeRules"></textarea>
  </div>

  <div class="mb-3">
    <label for="outOfScopeRules" class="form-label">Out-of-Scope Rules</label>
    <textarea class="form-control" id="outOfScopeRules" formControlName="outOfScopeRules"></textarea>
  </div>

  <div class="mb-3">
    <label for="type" class="form-label">Type</label>
    <select class="form-select" id="type" formControlName="type">
      <option value="PUBLIC">Public</option>
      <option value="PRIVATE">Private</option>
    </select>
  </div>

  <button type="submit" class="btn btn-primary">
    {{ isEdit ? 'Update' : 'Add' }} Scope
  </button>

  <div *ngIf="error" class="text-danger mt-2">{{ error }}</div>
  <div *ngIf="success" class="text-success mt-2">{{ success }}</div>
</form>
